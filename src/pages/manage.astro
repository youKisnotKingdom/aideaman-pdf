---
import Layout from "../layouts/Layout.astro";
import Folder from "../components/Folder.vue";
import UploadPDF from "../components/UploadPDF.vue";
---

<Layout title="manage">
    <main>
        <UploadPDF client:load />
        <Folder client:load /> 
    </main>
</Layout>

<script>
    import { auth } from '../firebase/firestore'
	import { onAuthStateChanged } from 'firebase/auth'
	onAuthStateChanged(auth, (user) => {
		if (!user) window.location.href = "/login"
		else {
			const event = new CustomEvent('userAuth', { detail: true });
		    document.dispatchEvent(event);
		}
	})
</script>